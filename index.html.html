<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1212 Menu System - الإدارة</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #ff6b6b;
            --secondary: #4ecdc4;
            --accent: #ffd166;
            --dark-bg: #1a1a2e;
            --dark-card: #2d3047;
            --dark-text: #f8f9fa;
            --light-bg: #f8f9fa;
            --light-card: #ffffff;
            --light-text: #1a1a2e;
            --shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .dark-theme {
            --bg-color: var(--dark-bg);
            --card-bg: var(--dark-card);
            --text-color: var(--dark-text);
            --border-color: #444;
        }
        
        .light-theme {
            --bg-color: var(--light-bg);
            --card-bg: var(--light-card);
            --text-color: var(--light-text);
            --border-color: #ddd;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            transition: background-color 0.3s, color 0.3s;
        }
        
        body {
            background: var(--bg-color);
            color: var(--text-color);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: var(--card-bg);
            border-radius: 20px;
            box-shadow: var(--shadow);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            padding: 20px;
            color: white;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, transparent 20%, rgba(255, 255, 255, 0.1) 20%, rgba(255, 255, 255, 0.1) 30%, transparent 30%, transparent);
            background-size: 10px 10px;
            animation: liquidMove 15s infinite linear;
            opacity: 0.5;
        }
        
        @keyframes liquidMove {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }
        
        .header-content {
            position: relative;
            z-index: 1;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }
        
        .menu-toggle {
            position: absolute;
            right: 20px;
            top: 20px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        
        .menu-toggle:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.05);
        }
        
        .sidebar {
            position: fixed;
            top: 0;
            right: -300px;
            width: 300px;
            height: 100vh;
            background: var(--card-bg);
            box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            transition: right 0.3s ease;
            padding: 20px;
            overflow-y: auto;
        }
        
        .sidebar.open {
            right: 0;
        }
        
        .sidebar-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 999;
            display: none;
        }
        
        .sidebar-overlay.open {
            display: block;
        }
        
        .sidebar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border-color);
        }
        
        .close-sidebar {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--text-color);
        }
        
        .sidebar-option {
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--text-color);
            background: var(--bg-color);
        }
        
        .sidebar-option:hover {
            background: var(--primary);
            color: white;
        }
        
        .sidebar-option i {
            font-size: 20px;
            color: var(--primary);
        }
        
        .sidebar-option:hover i {
            color: white;
        }
        
        .tabs {
            display: flex;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50px;
            margin: 20px auto;
            max-width: 500px;
            overflow: hidden;
        }
        
        .tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            color: white;
        }
        
        .tab.active {
            background: white;
            color: var(--primary);
        }
        
        .tab-content {
            display: none;
            padding: 30px;
        }
        
        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: var(--text-color);
        }
        
        input, textarea, select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid var(--border-color);
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s ease;
            background: var(--bg-color);
            color: var(--text-color);
        }
        
        input:focus, textarea:focus, select:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(255, 107, 107, 0.2);
            outline: none;
        }
        
        .btn {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-block;
            position: relative;
            overflow: hidden;
        }
        
        .btn::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, transparent 20%, rgba(255, 255, 255, 0.2) 20%, rgba(255, 255, 255, 0.2) 30%, transparent 30%, transparent);
            background-size: 10px 10px;
            animation: liquidMove 8s infinite linear;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .btn:hover::before {
            opacity: 1;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, #6c757d 0%, #495057 100%);
        }
        
        .btn-danger {
            background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);
        }
        
        .btn-warning {
            background: linear-gradient(135deg, #ffc107 0%, #e0a800 100%);
            color: #212529;
        }
        
        .btn-success {
            background: linear-gradient(135deg, #28a745 0%, #1e7e34 100%);
        }
        
        .btn-sm {
            padding: 8px 15px;
            font-size: 14px;
        }
        
        .image-upload {
            border: 2px dashed var(--border-color);
            border-radius: 10px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 20px;
        }
        
        .image-upload:hover {
            border-color: var(--primary);
        }
        
        .image-preview {
            width: 100%;
            max-width: 300px;
            height: 200px;
            border-radius: 10px;
            overflow: hidden;
            margin: 15px auto;
            border: 2px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--bg-color);
        }
        
        .image-preview img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }
        
        .preview-container {
            background: var(--bg-color);
            border-radius: 15px;
            padding: 20px;
            margin-top: 30px;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.05);
        }
        
        .category-card, .menu-item, .review-card {
            background: var(--card-bg);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: var(--shadow);
            position: relative;
        }
        
        .category-header, .item-header, .review-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .category-actions, .item-actions, .review-actions {
            display: flex;
            gap: 10px;
        }
        
        .hidden-item {
            opacity: 0.6;
            background-color: var(--bg-color);
        }
        
        .category-image {
            width: 100%;
            height: 150px;
            border-radius: 8px;
            overflow: hidden;
            margin-bottom: 10px;
        }
        
        .category-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .menu-items-container {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px dashed var(--border-color);
        }
        
        .price-editor {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .price-input {
            width: 100px;
            padding: 5px 10px;
        }
        
        .review-stars {
            color: #ffc107;
            margin-bottom: 10px;
        }
        
        .review-comment {
            color: #666;
            font-style: italic;
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px dashed var(--border-color);
        }
        
        .rating-modal, .review-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            display: none;
        }
        
        .rating-content, .review-content {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 30px;
            width: 90%;
            max-width: 500px;
            box-shadow: var(--shadow);
        }
        
        .stars {
            display: flex;
            justify-content: center;
            margin: 20px 0;
            direction: ltr;
        }
        
        .star {
            font-size: 30px;
            color: #ddd;
            cursor: pointer;
            transition: color 0.2s;
            margin: 0 5px;
        }
        
        .star:hover, .star.active {
            color: #ffc107;
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            background: var(--primary);
            color: white;
            border-radius: 10px;
            box-shadow: var(--shadow);
            z-index: 1100;
            opacity: 0;
            transform: translateY(-20px);
            transition: all 0.3s ease;
        }
        
        .notification.show {
            opacity: 1;
            transform: translateY(0);
        }
        
        .theme-switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }
        
        .theme-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
        }
        
        .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        input:checked + .slider {
            background-color: var(--primary);
        }
        
        input:checked + .slider:before {
            transform: translateX(26px);
        }
        
        .footer {
            text-align: center;
            padding: 20px;
            background: var(--dark-bg);
            color: white;
            margin-top: 30px;
            border-radius: 0 0 15px 15px;
        }
        
        .liquid-border {
            height: 5px;
            background: linear-gradient(90deg, 
                var(--primary) 0%, 
                var(--secondary) 25%, 
                var(--accent) 50%, 
                var(--secondary) 75%, 
                var(--primary) 100%);
            background-size: 200% 100%;
            animation: liquidFlow 3s infinite linear;
            border-radius: 0 0 10px 10px;
        }
        
        @keyframes liquidFlow {
            0% { background-position: 0% 50%; }
            100% { background-position: 200% 50%; }
        }
        
        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }
            
            .category-actions, .item-actions {
                flex-direction: column;
                gap: 5px;
            }
            
            .tabs {
                flex-direction: column;
                border-radius: 10px;
            }
            
            .tab {
                border-radius: 0;
            }
            
            .tab:first-child {
                border-radius: 10px 10px 0 0;
            }
            
            .tab:last-child {
                border-radius: 0 0 10px 10px;
            }
        }
        
        @media (max-width: 480px) {
            body {
                padding: 10px;
            }
            
            .tab-content {
                padding: 15px;
            }
            
            .sidebar {
                width: 85%;
                right: -85%;
            }
        }
    </style>
</head>
<body class="dark-theme">
    <div class="container">
        <header>
            <button class="menu-toggle" id="menuToggle">
                <i class="fas fa-bars"></i>
            </button>
            <div class="header-content">
                <h1 data-i18n="systemTitle">1212 Menu System - الإدارة</h1>
            </div>
            <div class="liquid-border"></div>
        </header>
        
        <div class="tabs">
            <div class="tab active" data-tab="info" data-i18n="basicInfoTab">المعلومات الأساسية</div>
            <div class="tab" data-tab="menu" data-i18n="menuManagementTab">إدارة القائمة</div>
            <div class="tab" data-tab="reviews" data-i18n="reviewsTab">التقييمات</div>
        </div>
        
        <div class="tab-content active" id="info">
            <h2 data-i18n="basicInfoTitle">المعلومات الأساسية للمطعم</h2>
            <p data-i18n="basicInfoDesc">قم بتعديل المعلومات الأساسية للمطعم والتي ستظهر في القائمة</p>
            
            <div class="form-group">
                <label for="restaurantName" data-i18n="restaurantNameLabel">اسم المطعم</label>
                <input type="text" id="restaurantName" placeholder="أدخل اسم المطعم" data-i18n-ph="restaurantNamePlaceholder">
            </div>
            
            <div class="form-group">
                <label for="restaurantDescription" data-i18n="restaurantDescLabel">وصف المطعم</label>
                <textarea id="restaurantDescription" rows="3" placeholder="أدخل وصفاً للمطعم" data-i18n-ph="restaurantDescPlaceholder"></textarea>
            </div>
            
            <div class="form-group">
                <label data-i18n="restaurantLogoLabel">شعار المطعم</label>
                <div class="image-upload" id="logoUpload">
                    <i class="fas fa-cloud-upload-alt" style="font-size: 40px; color: #ccc; margin-bottom: 10px;"></i>
                    <p data-i18n="uploadLogoText">انقر لتحميل شعار المطعم</p>
                    <input type="file" id="logoInput" accept="image/*" style="display: none;">
                </div>
                <div class="image-preview" id="logoPreview">
                    <span data-i18n="noImageUploaded">لم يتم تحميل صورة بعد</span>
                </div>
            </div>
            
            <div class="form-group">
                <label data-i18n="coverImageLabel">صورة الغلاف</label>
                <div class="image-upload" id="coverUpload">
                    <i class="fas fa-cloud-upload-alt" style="font-size: 40px; color: #ccc; margin-bottom: 10px;"></i>
                    <p data-i18n="uploadCoverText">انقر لتحميل صورة الغلاف</p>
                    <input type="file" id="coverInput" accept="image/*" style="display: none;">
                </div>
                <div class="image-preview" id="coverPreview">
                    <span data-i18n="noImageUploaded">لم يتم تحميل صورة بعد</span>
                </div>
            </div>
            
            <button class="btn" id="saveInfoBtn" data-i18n="saveInfoButton">حفظ المعلومات</button>
        </div>
        
        <div class="tab-content" id="menu">
            <h2 data-i18n="menuManagementTitle">إدارة قائمة الطعام</h2>
            <p data-i18n="menuManagementDesc">قم بإضافة وتعديل الأصناف في قائمة الطعام</p>
            
            <div class="preview-container">
                <h3 data-i18n="addCategoryTitle">إضافة فئة جديدة</h3>
                
                <div class="form-group">
                    <label for="categoryName" data-i18n="categoryNameLabel">اسم الفئة</label>
                    <input type="text" id="categoryName" placeholder="أدخل اسم الفئة" data-i18n-ph="categoryNamePlaceholder">
                </div>
                
                <div class="form-group">
                    <label data-i18n="categoryImageLabel">صورة الفئة</label>
                    <div class="image-upload" id="categoryImageUpload">
                        <i class="fas fa-cloud-upload-alt" style="font-size: 40px; color: #ccc; margin-bottom: 10px;"></i>
                        <p data-i18n="uploadCategoryImageText">انقر لتحميل صورة الفئة</p>
                        <input type="file" id="categoryImageInput" accept="image/*" style="display: none;">
                    </div>
                    <div class="image-preview" id="categoryImagePreview">
                        <span data-i18n="noImageUploaded">لم يتم تحميل صورة بعد</span>
                    </div>
                </div>
                
                <button class="btn" id="addCategoryBtn" data-i18n="addCategoryButton">إضافة فئة</button>
            </div>
            
            <div class="preview-container">
                <h3 data-i18n="addItemTitle">إضافة صنف جديد</h3>
                
                <div class="form-group">
                    <label for="itemCategory" data-i18n="itemCategoryLabel">الفئة</label>
                    <select id="itemCategory">
                        <option value="" data-i18n="selectCategoryOption">اختر الفئة</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="itemName" data-i18n="itemNameLabel">اسم الصنف</label>
                    <input type="text" id="itemName" placeholder="أدخل اسم الصنف" data-i18n-ph="itemNamePlaceholder">
                </div>
                
                <div class="form-group">
                    <label for="itemDescription" data-i18n="itemDescLabel">وصف الصنف</label>
                    <textarea id="itemDescription" rows="2" placeholder="أدخل وصفاً للصنف" data-i18n-ph="itemDescPlaceholder"></textarea>
                </div>
                
                <div class="form-group">
                    <label for="itemPrice" data-i18n="itemPriceLabel">السعر</label>
                    <input type="number" id="itemPrice" placeholder="أدخل السعر" data-i18n-ph="itemPricePlaceholder">
                </div>
                
                <button class="btn" id="addItemBtn" data-i18n="addItemButton">إضافة صنف</button>
            </div>
            
            <div class="preview-container">
                <h3 data-i18n="categoriesListTitle">الفئات والأصناف</h3>
                <div id="categoriesContainer">
                    <p style="text-align: center; padding: 20px; color: #888;" data-i18n="noCategoriesAdded">لم يتم إضافة أي فئات بعد</p>
                </div>
            </div>
        </div>
        
        <div class="tab-content" id="reviews">
            <h2 data-i18n="reviewsTitle">تقييمات الزبائن</h2>
            <p data-i18n="reviewsDesc">عرض تقييمات الزبائن للخدمة</p>
            
            <div class="preview-container">
                <h3 data-i18n="reviewsListTitle">قائمة التقييمات</h3>
                <div id="reviewsContainer">
                    <p style="text-align: center; padding: 20px; color: #888;" data-i18n="noReviewsAdded">لا توجد تقييمات بعد</p>
                </div>
            </div>
        </div>
        
        <div class="footer">
            <p data-i18n="developedBy">تم التطوير بواسطة <strong>Laith Sabbah</strong></p>
            <p data-i18n="allRightsReserved">جميع الحقوق محفوظة © 2023</p>
        </div>
    </div>

    <!-- اللوحة الجانبية -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h3 data-i18n="optionsTitle">خيارات</h3>
            <button class="close-sidebar" id="closeSidebar">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <div class="sidebar-option" id="changeLanguageOption">
            <i class="fas fa-globe"></i>
            <span data-i18n="changeLanguage">تغيير اللغة</span>
        </div>
        
        <div class="sidebar-option" id="rateServiceOption">
            <i class="fas fa-star"></i>
            <span data-i18n="rateService">قم بتقييم الخدمة</span>
        </div>
        
        <div class="sidebar-option">
            <i class="fas fa-moon"></i>
            <span data-i18n="themeSwitch">تبديل الثيم</span>
            <label class="theme-switch">
                <input type="checkbox" id="themeToggle">
                <span class="slider"></span>
            </label>
        </div>
    </div>

    <!-- نافذة تقييم الخدمة -->
    <div class="rating-modal" id="ratingModal">
        <div class="rating-content">
            <h3 data-i18n="rateServiceTitle">قيم خدمتنا</h3>
            
            <div class="form-group">
                <label for="customerName" data-i18n="customerNameLabel">اسمك</label>
                <input type="text" id="customerName" placeholder="أدخل اسمك" data-i18n-ph="customerNamePlaceholder">
            </div>
            
            <div class="form-group">
                <label data-i18n="ratingLabel">التقييم</label>
                <div class="stars">
                    <span class="star" data-value="1">★</span>
                    <span class="star" data-value="2">★</span>
                    <span class="star" data-value="3">★</span>
                    <span class="star" data-value="4">★</span>
                    <span class="star" data-value="5">★</span>
                </div>
                <input type="hidden" id="ratingValue" value="0">
            </div>
            
            <div class="form-group">
                <label for="reviewComment" data-i18n="reviewCommentLabel">تعليق (اختياري)</label>
                <textarea id="reviewComment" rows="3" placeholder="أدخل تعليقك هنا" data-i18n-ph="reviewCommentPlaceholder"></textarea>
            </div>
            
            <button class="btn" id="submitRatingBtn" data-i18n="submitRatingButton">إرسال التقييم</button>
            <button class="btn btn-secondary" style="margin-right: 10px;" id="cancelRatingBtn" data-i18n="cancelButton">إلغاء</button>
        </div>
    </div>

    <!-- إشعار -->
    <div class="notification" id="notification"></div>

    <script>
        // بيانات التطبيق
        let restaurantInfo = {
            name: "",
            description: "",
            logo: "",
            cover: ""
        };
        
        let categories = [];
        let menuItems = [];
        let reviews = [];
        let currentLanguage = 'ar';
        let currentTheme = 'dark';
        
        // ترجمة النصوص
        const translations = {
            ar: {
                systemTitle: "1212 Menu System - الإدارة",
                basicInfoTab: "المعلومات الأساسية",
                menuManagementTab: "إدارة القائمة",
                reviewsTab: "التقييمات",
                basicInfoTitle: "المعلومات الأساسية للمطعم",
                basicInfoDesc: "قم بتعديل المعلومات الأساسية للمطعم والتي ستظهر في القائمة",
                restaurantNameLabel: "اسم المطعم",
                restaurantNamePlaceholder: "أدخل اسم المطعم",
                restaurantDescLabel: "وصف المطعم",
                restaurantDescPlaceholder: "أدخل وصفاً للمطعم",
                restaurantLogoLabel: "شعار المطعم",
                uploadLogoText: "انقر لتحميل شعار المطعم",
                coverImageLabel: "صورة الغلاف",
                uploadCoverText: "انقر لتحميل صورة الغلاف",
                noImageUploaded: "لم يتم تحميل صورة بعد",
                saveInfoButton: "حفظ المعلومات",
                menuManagementTitle: "إدارة قائمة الطعام",
                menuManagementDesc: "قم بإضافة وتعديل الأصناف في قائمة الطعام",
                addCategoryTitle: "إضافة فئة جديدة",
                categoryNameLabel: "اسم الفئة",
                categoryNamePlaceholder: "أدخل اسم الفئة",
                categoryImageLabel: "صورة الفئة",
                uploadCategoryImageText: "انقر لتحميل صورة الفئة",
                addCategoryButton: "إضافة فئة",
                addItemTitle: "إضافة صنف جديد",
                itemCategoryLabel: "الفئة",
                selectCategoryOption: "اختر الفئة",
                itemNameLabel: "اسم الصنف",
                itemNamePlaceholder: "أدخل اسم الصنف",
                itemDescLabel: "وصف الصنف",
                itemDescPlaceholder: "أدخل وصفاً للصنف",
                itemPriceLabel: "السعر",
                itemPricePlaceholder: "أدخل السعر",
                addItemButton: "إضافة صنف",
                categoriesListTitle: "الفئات والأصناف",
                noCategoriesAdded: "لم يتم إضافة أي فئات بعد",
                reviewsTitle: "تقييمات الزبائن",
                reviewsDesc: "عرض تقييمات الزبائن للخدمة",
                reviewsListTitle: "قائمة التقييمات",
                noReviewsAdded: "لا توجد تقييمات بعد",
                developedBy: "تم التطوير بواسطة",
                allRightsReserved: "جميع الحقوق محفوظة © 2023",
                hideButton: "إخفاء",
                showButton: "إظهار",
                editButton: "تعديل",
                deleteButton: "حذف",
                saveButton: "حفظ",
                cancelButton: "إلغاء",
                editPriceButton: "تعديل السعر",
                editCategoryButton: "تعديل الفئة",
                noItemsInCategory: "لا توجد أصناف في هذه الفئة",
                optionsTitle: "خيارات",
                changeLanguage: "تغيير اللغة",
                rateService: "قم بتقييم الخدمة",
                rateServiceTitle: "قيم خدمتنا",
                customerNameLabel: "اسمك",
                customerNamePlaceholder: "أدخل اسمك",
                ratingLabel: "التقييم",
                reviewCommentLabel: "تعليق (اختياري)",
                reviewCommentPlaceholder: "أدخل تعليقك هنا",
                submitRatingButton: "إرسال التقييم",
                categoryAdded: "تم إضافة الفئة بنجاح",
                itemAdded: "تم إضافة الصنف بنجاح",
                categoryDeleted: "تم حذف الفئة بنجاح",
                itemDeleted: "تم حذف الصنف بنجاح",
                infoSaved: "تم حفظ المعلومات بنجاح",
                ratingSubmitted: "شكراً لتقييمك خدمتنا",
                themeSwitch: "الوضع الداكن",
                autoSaved: "تم الحفظ التلقائي للبيانات"
            },
            en: {
                systemTitle: "1212 Menu System - Admin",
                basicInfoTab: "Basic Information",
                menuManagementTab: "Menu Management",
                reviewsTab: "Reviews",
                basicInfoTitle: "Restaurant Basic Information",
                basicInfoDesc: "Modify the basic information of the restaurant that will appear in the menu",
                restaurantNameLabel: "Restaurant Name",
                restaurantNamePlaceholder: "Enter restaurant name",
                restaurantDescLabel: "Restaurant Description",
                restaurantDescPlaceholder: "Enter restaurant description",
                restaurantLogoLabel: "Restaurant Logo",
                uploadLogoText: "Click to upload restaurant logo",
                coverImageLabel: "Cover Image",
                uploadCoverText: "Click to upload cover image",
                noImageUploaded: "No image uploaded yet",
                saveInfoButton: "Save Information",
                menuManagementTitle: "Food Menu Management",
                menuManagementDesc: "Add and modify items in the food menu",
                addCategoryTitle: "Add New Category",
                categoryNameLabel: "Category Name",
                categoryNamePlaceholder: "Enter category name",
                categoryImageLabel: "Category Image",
                uploadCategoryImageText: "Click to upload category image",
                addCategoryButton: "Add Category",
                addItemTitle: "Add New Item",
                itemCategoryLabel: "Category",
                selectCategoryOption: "Select Category",
                itemNameLabel: "Item Name",
                itemNamePlaceholder: "Enter item name",
                itemDescLabel: "Item Description",
                itemDescPlaceholder: "Enter item description",
                itemPriceLabel: "Price",
                itemPricePlaceholder: "Enter price",
                addItemButton: "Add Item",
                categoriesListTitle: "Categories and Items",
                noCategoriesAdded: "No categories added yet",
                reviewsTitle: "Customer Reviews",
                reviewsDesc: "Display customer reviews for the service",
                reviewsListTitle: "Reviews List",
                noReviewsAdded: "No reviews yet",
                developedBy: "Developed by",
                allRightsReserved: "All rights reserved © 2023",
                hideButton: "Hide",
                showButton: "Show",
                editButton: "Edit",
                deleteButton: "Delete",
                saveButton: "Save",
                cancelButton: "Cancel",
                editPriceButton: "Edit Price",
                editCategoryButton: "Edit Category",
                noItemsInCategory: "No items in this category",
                optionsTitle: "Options",
                changeLanguage: "Change Language",
                rateService: "Rate Our Service",
                rateServiceTitle: "Rate Our Service",
                customerNameLabel: "Your Name",
                customerNamePlaceholder: "Enter your name",
                ratingLabel: "Rating",
                reviewCommentLabel: "Comment (optional)",
                reviewCommentPlaceholder: "Enter your comment here",
                submitRatingButton: "Submit Rating",
                categoryAdded: "Category added successfully",
                itemAdded: "Item added successfully",
                categoryDeleted: "Category deleted successfully",
                itemDeleted: "Item deleted successfully",
                infoSaved: "Information saved successfully",
                ratingSubmitted: "Thank you for your rating",
                themeSwitch: "Dark Mode",
                autoSaved: "Data auto-saved"
            }
        };
        
        document.addEventListener('DOMContentLoaded', function() {
            // تحميل البيانات المحفوظة
            loadSavedData();
            
            // إدارة التبويبات
            const tabs = document.querySelectorAll('.tab');
            const tabContents = document.querySelectorAll('.tab-content');
            
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const tabId = tab.getAttribute('data-tab');
                    
                    // إزالة النشاط من جميع التبويبات والمحتويات
                    tabs.forEach(t => t.classList.remove('active'));
                    tabContents.forEach(tc => tc.classList.remove('active'));
                    
                    // إضافة النشاط للتبويب والمحتوى المحدد
                    tab.classList.add('active');
                    document.getElementById(tabId).classList.add('active');
                    
                    // إذا كان تبويب التقييمات، قم بتحديث التقييمات
                    if (tabId === 'reviews') {
                        renderReviews();
                    }
                });
            });
            
            // إدارة القائمة الجانبية
            const menuToggle = document.getElementById('menuToggle');
            const sidebar = document.getElementById('sidebar');
            const sidebarOverlay = document.getElementById('sidebarOverlay');
            const closeSidebar = document.getElementById('closeSidebar');
            
            menuToggle.addEventListener('click', () => {
                sidebar.classList.add('open');
                sidebarOverlay.classList.add('open');
            });
            
            closeSidebar.addEventListener('click', () => {
                sidebar.classList.remove('open');
                sidebarOverlay.classList.remove('open');
            });
            
            sidebarOverlay.addEventListener('click', () => {
                sidebar.classList.remove('open');
                sidebarOverlay.classList.remove('open');
            });
            
            // تبديل اللغة
            document.getElementById('changeLanguageOption').addEventListener('click', function() {
                if (currentLanguage === 'ar') {
                    currentLanguage = 'en';
                    document.documentElement.lang = 'en';
                    document.documentElement.dir = 'ltr';
                } else {
                    currentLanguage = 'ar';
                    document.documentElement.lang = 'ar';
                    document.documentElement.dir = 'rtl';
                }
                translatePage();
            });
            
            // تبديل الثيم
            document.getElementById('themeToggle').addEventListener('change', function() {
                if (this.checked) {
                    document.body.classList.remove('light-theme');
                    document.body.classList.add('dark-theme');
                    currentTheme = 'dark';
                } else {
                    document.body.classList.remove('dark-theme');
                    document.body.classList.add('light-theme');
                    currentTheme = 'light';
                }
                saveTheme();
            });
            
            // فتح نافذة التقييم
            document.getElementById('rateServiceOption').addEventListener('click', function() {
                document.getElementById('ratingModal').style.display = 'flex';
            });
            
            // إغلاق نافذة التقييم
            document.getElementById('cancelRatingBtn').addEventListener('click', function() {
                document.getElementById('ratingModal').style.display = 'none';
            });
            
            // إدارة النجوم في التقييم
            const stars = document.querySelectorAll('.star');
            const ratingValue = document.getElementById('ratingValue');
            
            stars.forEach(star => {
                star.addEventListener('click', () => {
                    const value = parseInt(star.getAttribute('data-value'));
                    ratingValue.value = value;
                    
                    stars.forEach(s => {
                        const sValue = parseInt(s.getAttribute('data-value'));
                        if (sValue <= value) {
                            s.classList.add('active');
                        } else {
                            s.classList.remove('active');
                        }
                    });
                });
                
                star.addEventListener('mouseover', () => {
                    const value = parseInt(star.getAttribute('data-value'));
                    
                    stars.forEach(s => {
                        const sValue = parseInt(s.getAttribute('data-value'));
                        if (sValue <= value) {
                            s.classList.add('active');
                        } else {
                            s.classList.remove('active');
                        }
                    });
                });
                
                star.addEventListener('mouseout', () => {
                    const currentRating = parseInt(ratingValue.value);
                    
                    stars.forEach(s => {
                        const sValue = parseInt(s.getAttribute('data-value'));
                        if (sValue <= currentRating) {
                            s.classList.add('active');
                        } else {
                            s.classList.remove('active');
                        }
                    });
                });
            });
            
            // إرسال التقييم
            document.getElementById('submitRatingBtn').addEventListener('click', function() {
                const customerName = document.getElementById('customerName').value;
                const rating = parseInt(ratingValue.value);
                const comment = document.getElementById('reviewComment').value;
                
                if (!customerName || rating === 0) {
                    alert(currentLanguage === 'ar' ? 'يرجى إدخال اسمك وتقييم الخدمة' : 'Please enter your name and rate the service');
                    return;
                }
                
                const newReview = {
                    id: Date.now(),
                    customerName: customerName,
                    rating: rating,
                    comment: comment,
                    date: new Date().toLocaleDateString()
                };
                
                reviews.push(newReview);
                saveReviews();
                
                // إعادة تعيين الحقول
                document.getElementById('customerName').value = '';
                document.getElementById('reviewComment').value = '';
                ratingValue.value = 0;
                stars.forEach(s => s.classList.remove('active'));
                
                // إغلاق النافذة
                document.getElementById('ratingModal').style.display = 'none';
                
                // عرض رسالة نجاح
                showNotification(translations[currentLanguage].ratingSubmitted);
            });
            
            // إدارة تحميل الصور
            const uploadAreas = document.querySelectorAll('.image-upload');
            
            uploadAreas.forEach(area => {
                const input = area.querySelector('input[type="file"]');
                let preview;
                
                if (area.id === 'logoUpload') {
                    preview = document.getElementById('logoPreview');
                } else if (area.id === 'coverUpload') {
                    preview = document.getElementById('coverPreview');
                } else if (area.id === 'categoryImageUpload') {
                    preview = document.getElementById('categoryImagePreview');
                }
                
                area.addEventListener('click', () => {
                    input.click();
                });
                
                input.addEventListener('change', () => {
                    if (input.files && input.files[0]) {
                        const reader = new FileReader();
                        
                        reader.onload = function(e) {
                            preview.innerHTML = `<img src="${e.target.result}" alt="Preview">`;
                            
                            // حفظ الصورة في البيانات المناسبة
                            if (area.id === 'logoUpload') {
                                restaurantInfo.logo = e.target.result;
                                saveRestaurantInfo();
                            } else if (area.id === 'coverUpload') {
                                restaurantInfo.cover = e.target.result;
                                saveRestaurantInfo();
                            }
                        }
                        
                        reader.readAsDataURL(input.files[0]);
                    }
                });
            });
            
            // تحديث المعلومات عند تغييرها
            const restaurantName = document.getElementById('restaurantName');
            const restaurantDescription = document.getElementById('restaurantDescription');
            
            restaurantName.addEventListener('input', () => {
                restaurantInfo.name = restaurantName.value;
                saveRestaurantInfo();
            });
            
            restaurantDescription.addEventListener('input', () => {
                restaurantInfo.description = restaurantDescription.value;
                saveRestaurantInfo();
            });
            
            // حفظ المعلومات الأساسية
            document.getElementById('saveInfoBtn').addEventListener('click', function() {
                restaurantInfo.name = document.getElementById('restaurantName').value;
                restaurantInfo.description = document.getElementById('restaurantDescription').value;
                
                saveRestaurantInfo();
                
                // عرض رسالة نجاح
                showNotification(translations[currentLanguage].infoSaved);
            });
            
            // إضافة فئة جديدة
            document.getElementById('addCategoryBtn').addEventListener('click', function() {
                const categoryName = document.getElementById('categoryName').value;
                const categoryImage = document.getElementById('categoryImagePreview').querySelector('img');
                
                if (!categoryName) {
                    alert(currentLanguage === 'ar' ? 'يرجى إدخال اسم الفئة' : 'Please enter category name');
                    return;
                }
                
                const newCategory = {
                    id: Date.now(),
                    name: categoryName,
                    image: categoryImage ? categoryImage.src : '',
                    hidden: false
                };
                
                categories.push(newCategory);
                saveCategories();
                
                // إعادة تعيين الحقول
                document.getElementById('categoryName').value = '';
                document.getElementById('categoryImagePreview').innerHTML = '<span data-i18n="noImageUploaded">لم يتم تحميل صورة بعد</span>';
                
                // تحديث قائمة الفئات في واجهة إضافة الأصناف
                updateCategorySelect();
                
                // تحديث عرض الفئات
                renderCategories();
                
                // ترجمة النصوص إذا لزم الأمر
                translatePage();
                
                // عرض رسالة نجاح
                showNotification(translations[currentLanguage].categoryAdded);
            });
            
            // إضافة صنف جديد
            document.getElementById('addItemBtn').addEventListener('click', function() {
                const categoryId = document.getElementById('itemCategory').value;
                const itemName = document.getElementById('itemName').value;
                const itemDescription = document.getElementById('itemDescription').value;
                const itemPrice = document.getElementById('itemPrice').value;
                
                if (!categoryId || !itemName || !itemPrice) {
                    alert(currentLanguage === 'ar' ? 'يرجى ملء جميع الحقول المطلوبة' : 'Please fill all required fields');
                    return;
                }
                
                const newItem = {
                    id: Date.now(),
                    categoryId: parseInt(categoryId),
                    name: itemName,
                    description: itemDescription,
                    price: parseFloat(itemPrice),
                    hidden: false
                };
                
                menuItems.push(newItem);
                saveMenuItems();
                
                // إعادة تعيين الحقول
                document.getElementById('itemName').value = '';
                document.getElementById('itemDescription').value = '';
                document.getElementById('itemPrice').value = '';
                
                // تحديث عرض الفئات والأصناف
                renderCategories();
                
                // عرض رسالة نجاح
                showNotification(translations[currentLanguage].itemAdded);
            });
            
            // وظائف مساعدة
            function updateCategorySelect() {
                const categorySelect = document.getElementById('itemCategory');
                categorySelect.innerHTML = '<option value="" data-i18n="selectCategoryOption">اختر الفئة</option>';
                
                categories.forEach(category => {
                    if (!category.hidden) {
                        const option = document.createElement('option');
                        option.value = category.id;
                        option.textContent = category.name;
                        categorySelect.appendChild(option);
                    }
                });
                
                translatePage();
            }
            
            function renderCategories() {
                const categoriesContainer = document.getElementById('categoriesContainer');
                
                if (categories.length === 0) {
                    categoriesContainer.innerHTML = '<p style="text-align: center; padding: 20px; color: #888;" data-i18n="noCategoriesAdded">لم يتم إضافة أي فئات بعد</p>';
                    translatePage();
                    return;
                }
                
                categoriesContainer.innerHTML = '';
                
                categories.forEach(category => {
                    const categoryCard = document.createElement('div');
                    categoryCard.className = `category-card ${category.hidden ? 'hidden-item' : ''}`;
                    
                    const categoryHeader = document.createElement('div');
                    categoryHeader.className = 'category-header';
                    
                    const categoryTitle = document.createElement('h4');
                    categoryTitle.textContent = category.name;
                    
                    const categoryActions = document.createElement('div');
                    categoryActions.className = 'category-actions';
                    
                    const toggleButton = document.createElement('button');
                    toggleButton.className = `btn btn-sm ${category.hidden ? 'btn-success' : 'btn-warning'}`;
                    toggleButton.innerHTML = category.hidden ? '<i class="fas fa-eye"></i>' : '<i class="fas fa-eye-slash"></i>';
                    toggleButton.setAttribute('data-i18n', category.hidden ? 'showButton' : 'hideButton');
                    
                    toggleButton.addEventListener('click', () => {
                        category.hidden = !category.hidden;
                        renderCategories();
                        saveCategories();
                    });
                    
                    const editButton = document.createElement('button');
                    editButton.className = 'btn btn-secondary btn-sm';
                    editButton.innerHTML = '<i class="fas fa-edit"></i>';
                    editButton.setAttribute('data-i18n', 'editCategoryButton');
                    
                    editButton.addEventListener('click', () => {
                        editCategory(category);
                    });
                    
                    const deleteButton = document.createElement('button');
                    deleteButton.className = 'btn btn-danger btn-sm';
                    deleteButton.innerHTML = '<i class="fas fa-trash"></i>';
                    deleteButton.setAttribute('data-i18n', 'deleteButton');
                    
                    deleteButton.addEventListener('click', () => {
                        if (confirm(currentLanguage === 'ar' ? 'هل أنت متأكد من حذف هذه الفئة؟' : 'Are you sure you want to delete this category?')) {
                            // حذف الفئة وجميع أصنافها
                            categories = categories.filter(c => c.id !== category.id);
                            menuItems = menuItems.filter(item => item.categoryId !== category.id);
                            renderCategories();
                            updateCategorySelect();
                            saveCategories();
                            saveMenuItems();
                            
                            // عرض رسالة نجاح
                            showNotification(translations[currentLanguage].categoryDeleted);
                        }
                    });
                    
                    categoryActions.appendChild(toggleButton);
                    categoryActions.appendChild(editButton);
                    categoryActions.appendChild(deleteButton);
                    
                    categoryHeader.appendChild(categoryTitle);
                    categoryHeader.appendChild(categoryActions);
                    
                    categoryCard.appendChild(categoryHeader);
                    
                    // عرض صورة الفئة إن وجدت
                    if (category.image) {
                        const categoryImageDiv = document.createElement('div');
                        categoryImageDiv.className = 'category-image';
                        categoryImageDiv.innerHTML = `<img src="${category.image}" alt="${category.name}">`;
                        categoryCard.appendChild(categoryImageDiv);
                    }
                    
                    // عرض أصناف هذه الفئة
                    const categoryItems = menuItems.filter(item => item.categoryId === category.id);
                    
                    const itemsContainer = document.createElement('div');
                    itemsContainer.className = 'menu-items-container';
                    
                    if (categoryItems.length === 0) {
                        itemsContainer.innerHTML = `<p style="text-align: center; color: #888;" data-i18n="noItemsInCategory">لا توجد أصناف في هذه الفئة</p>`;
                    } else {
                        categoryItems.forEach(item => {
                            const itemElement = document.createElement('div');
                            itemElement.className = `menu-item ${item.hidden ? 'hidden-item' : ''}`;
                            
                            const itemHeader = document.createElement('div');
                            itemHeader.className = 'item-header';
                            
                            const itemName = document.createElement('h5');
                            itemName.textContent = item.name;
                            
                            const itemActions = document.createElement('div');
                            itemActions.className = 'item-actions';
                            
                            const itemToggleButton = document.createElement('button');
                            itemToggleButton.className = `btn btn-sm ${item.hidden ? 'btn-success' : 'btn-warning'}`;
                            itemToggleButton.innerHTML = item.hidden ? '<i class="fas fa-eye"></i>' : '<i class="fas fa-eye-slash"></i>';
                            itemToggleButton.setAttribute('data-i18n', item.hidden ? 'showButton' : 'hideButton');
                            
                            itemToggleButton.addEventListener('click', () => {
                                item.hidden = !item.hidden;
                                renderCategories();
                                saveMenuItems();
                            });
                            
                            const editPriceButton = document.createElement('button');
                            editPriceButton.className = 'btn btn-secondary btn-sm';
                            editPriceButton.innerHTML = '<i class="fas fa-edit"></i>';
                            editPriceButton.setAttribute('data-i18n', 'editPriceButton');
                            
                            editPriceButton.addEventListener('click', () => {
                                const newPrice = prompt(
                                    currentLanguage === 'ar' ? 'أدخل السعر الجديد:' : 'Enter new price:',
                                    item.price
                                );
                                
                                if (newPrice !== null && !isNaN(parseFloat(newPrice))) {
                                    item.price = parseFloat(newPrice);
                                    renderCategories();
                                    saveMenuItems();
                                }
                            });
                            
                            const itemDeleteButton = document.createElement('button');
                            itemDeleteButton.className = 'btn btn-danger btn-sm';
                            itemDeleteButton.innerHTML = '<i class="fas fa-trash"></i>';
                            itemDeleteButton.setAttribute('data-i18n', 'deleteButton');
                            
                            itemDeleteButton.addEventListener('click', () => {
                                if (confirm(currentLanguage === 'ar' ? 'هل أنت متأكد من حذف هذا الصنف؟' : 'Are you sure you want to delete this item?')) {
                                    menuItems = menuItems.filter(i => i.id !== item.id);
                                    renderCategories();
                                    saveMenuItems();
                                    
                                    // عرض رسالة نجاح
                                    showNotification(translations[currentLanguage].itemDeleted);
                                }
                            });
                            
                            itemActions.appendChild(itemToggleButton);
                            itemActions.appendChild(editPriceButton);
                            itemActions.appendChild(itemDeleteButton);
                            
                            itemHeader.appendChild(itemName);
                            itemHeader.appendChild(itemActions);
                            
                            const itemDescription = document.createElement('p');
                            itemDescription.textContent = item.description;
                            itemDescription.style.marginBottom = '10px';
                            itemDescription.style.color = '#666';
                            
                            const itemPrice = document.createElement('p');
                            itemPrice.textContent = `${item.price} ₪`;
                            itemPrice.style.fontWeight = 'bold';
                            itemPrice.style.color = 'var(--primary)';
                            
                            itemElement.appendChild(itemHeader);
                            itemElement.appendChild(itemDescription);
                            itemElement.appendChild(itemPrice);
                            
                            itemsContainer.appendChild(itemElement);
                        });
                    }
                    
                    categoryCard.appendChild(itemsContainer);
                    categoriesContainer.appendChild(categoryCard);
                });
                
                translatePage();
            }
            
            function editCategory(category) {
                const newName = prompt(
                    currentLanguage === 'ar' ? 'أدخل الاسم الجديد للفئة:' : 'Enter new category name:',
                    category.name
                );
                
                if (newName !== null && newName.trim() !== '') {
                    category.name = newName.trim();
                    renderCategories();
                    updateCategorySelect();
                    saveCategories();
                    
                    showNotification(currentLanguage === 'ar' ? 'تم تعديل الفئة بنجاح' : 'Category updated successfully');
                }
            }
            
            function renderReviews() {
                const reviewsContainer = document.getElementById('reviewsContainer');
                
                if (reviews.length === 0) {
                    reviewsContainer.innerHTML = '<p style="text-align: center; padding: 20px; color: #888;" data-i18n="noReviewsAdded">لا توجد تقييمات بعد</p>';
                    translatePage();
                    return;
                }
                
                reviewsContainer.innerHTML = '';
                
                reviews.forEach(review => {
                    const reviewCard = document.createElement('div');
                    reviewCard.className = 'review-card';
                    
                    const reviewHeader = document.createElement('div');
                    reviewHeader.className = 'review-header';
                    
                    const customerName = document.createElement('h4');
                    customerName.textContent = review.customerName;
                    
                    const reviewDate = document.createElement('span');
                    reviewDate.textContent = review.date;
                    reviewDate.style.color = '#888';
                    
                    reviewHeader.appendChild(customerName);
                    reviewHeader.appendChild(reviewDate);
                    
                    const starsDiv = document.createElement('div');
                    starsDiv.className = 'review-stars';
                    
                    for (let i = 1; i <= 5; i++) {
                        const star = document.createElement('span');
                        star.innerHTML = '★';
                        star.style.color = i <= review.rating ? '#ffc107' : '#ddd';
                        starsDiv.appendChild(star);
                    }
                    
                    reviewCard.appendChild(reviewHeader);
                    reviewCard.appendChild(starsDiv);
                    
                    if (review.comment) {
                        const commentDiv = document.createElement('div');
                        commentDiv.className = 'review-comment';
                        commentDiv.textContent = review.comment;
                        reviewCard.appendChild(commentDiv);
                    }
                    
                    reviewsContainer.appendChild(reviewCard);
                });
            }
            
            // وظائف حفظ البيانات
            function saveRestaurantInfo() {
                try {
                    localStorage.setItem('restaurantInfo', JSON.stringify(restaurantInfo));
                    console.log('تم حفظ معلومات المطعم');
                } catch (error) {
                    console.error('خطأ في حفظ معلومات المطعم:', error);
                }
            }
            
            function saveCategories() {
                try {
                    localStorage.setItem('menuCategories', JSON.stringify(categories));
                    console.log('تم حفظ الفئات');
                } catch (error) {
                    console.error('خطأ في حفظ الفئات:', error);
                }
            }
            
            function saveMenuItems() {
                try {
                    localStorage.setItem('menuItems', JSON.stringify(menuItems));
                    console.log('تم حفظ الأصناف');
                } catch (error) {
                    console.error('خطأ في حفظ الأصناف:', error);
                }
            }
            
            function saveReviews() {
                try {
                    localStorage.setItem('reviews', JSON.stringify(reviews));
                    console.log('تم حفظ التقييمات');
                } catch (error) {
                    console.error('خطأ في حفظ التقييمات:', error);
                }
            }
            
            function saveTheme() {
                try {
                    localStorage.setItem('theme', currentTheme);
                    console.log('تم حفظ الثيم');
                } catch (error) {
                    console.error('خطأ في حفظ الثيم:', error);
                }
            }
            
            // دالة تحميل البيانات المحفوظة
            function loadSavedData() {
                try {
                    // تحميل معلومات المطعم
                    const savedRestaurantInfo = localStorage.getItem('restaurantInfo');
                    if (savedRestaurantInfo) {
                        restaurantInfo = JSON.parse(savedRestaurantInfo);
                        document.getElementById('restaurantName').value = restaurantInfo.name || '';
                        document.getElementById('restaurantDescription').value = restaurantInfo.description || '';
                        
                        if (restaurantInfo.logo) {
                            const logoPreview = document.getElementById('logoPreview');
                            logoPreview.innerHTML = `<img src="${restaurantInfo.logo}" alt="Logo">`;
                        }
                        
                        if (restaurantInfo.cover) {
                            const coverPreview = document.getElementById('coverPreview');
                            coverPreview.innerHTML = `<img src="${restaurantInfo.cover}" alt="Cover">`;
                        }
                    }
                    
                    // تحميل الفئات والأصناف
                    const savedCategories = localStorage.getItem('menuCategories');
                    if (savedCategories) {
                        categories = JSON.parse(savedCategories);
                        console.log('تم تحميل الفئات:', categories);
                    }
                    
                    const savedItems = localStorage.getItem('menuItems');
                    if (savedItems) {
                        menuItems = JSON.parse(savedItems);
                        console.log('تم تحميل الأصناف:', menuItems);
                    }
                    
                    // تحميل التقييمات
                    const savedReviews = localStorage.getItem('reviews');
                    if (savedReviews) {
                        reviews = JSON.parse(savedReviews);
                        console.log('تم تحميل التقييمات:', reviews);
                    }
                    
                    // تحميل الثيم
                    const savedTheme = localStorage.getItem('theme');
                    if (savedTheme) {
                        currentTheme = savedTheme;
                        document.body.classList.remove('dark-theme', 'light-theme');
                        document.body.classList.add(currentTheme + '-theme');
                        document.getElementById('themeToggle').checked = currentTheme === 'dark';
                    }
                    
                    // تحديث العرض
                    renderCategories();
                    updateCategorySelect();
                    
                    console.log('تم تحميل البيانات بنجاح');
                } catch (error) {
                    console.error('خطأ في تحميل البيانات:', error);
                }
            }
            
            function showNotification(message) {
                const notification = document.getElementById('notification');
                notification.textContent = message;
                notification.classList.add('show');
                
                setTimeout(() => {
                    notification.classList.remove('show');
                }, 3000);
            }
            
            function translatePage() {
                // ترجمة جميع العناصر ذات الخاصية data-i18n
                document.querySelectorAll('[data-i18n]').forEach(element => {
                    const key = element.getAttribute('data-i18n');
                    if (translations[currentLanguage][key]) {
                        element.textContent = translations[currentLanguage][key];
                    }
                });
                
                // ترجمة العناصر النائبة (placeholder)
                document.querySelectorAll('[data-i18n-ph]').forEach(element => {
                    const key = element.getAttribute('data-i18n-ph');
                    if (translations[currentLanguage][key]) {
                        element.placeholder = translations[currentLanguage][key];
                    }
                });
                
                // تحديث نص أزرار الإخفاء/الإظهار
                document.querySelectorAll('.category-actions button, .item-actions button').forEach(button => {
                    if (button.classList.contains('btn-warning')) {
                        button.setAttribute('data-i18n', 'hideButton');
                    } else if (button.classList.contains('btn-success')) {
                        button.setAttribute('data-i18n', 'showButton');
                    }
                    
                    const key = button.getAttribute('data-i18n');
                    if (translations[currentLanguage][key]) {
                        // الحفاظ على الأيقونة داخل الزر
                        const icon = button.querySelector('i');
                        if (icon) {
                            button.textContent = '';
                            button.appendChild(icon);
                            const text = document.createTextNode(' ' + translations[currentLanguage][key]);
                            button.appendChild(text);
                        } else {
                            button.textContent = translations[currentLanguage][key];
                        }
                    }
                });
            }
            
            // تهيئة أولية
            updateCategorySelect();
            renderCategories();
            translatePage();
            
            // تعيين الثيم الافتراضي
            document.getElementById('themeToggle').checked = true;
        });
    </script>
</body>
</html>